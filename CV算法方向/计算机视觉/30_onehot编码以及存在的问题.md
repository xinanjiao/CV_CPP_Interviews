## 一、什么是独热编码

独热编码，即 One-Hot 编码，又称一位有效编码，其方法是使用N位状态寄存器来对N个状态进行编码，每个状态都有它独立的寄存器位，并且在任意时候，其中只有一位有效。（百度百科）

说起来这么复杂，举个例子就很容易理解了：

​	比如颜色特征有3种：红色、绿色和黄色，转换成独热编码分别表示为（此时上述描述中的N=3）：001, 010, 100。（当然转换成100, 010, 001也可以，只要有确定的一一对应关系即可）

红色、绿色和黄色分别转换成1, 2, 3行不行，一般不这样处理，这样处理也不叫独热编码了，只能说是文本转换成数字，具体原因可以往下看。

## 二、为什么要使用独热编码

在机器学习算法中，**一般是通过计算特征之间距离或相似度来实现分类、回归的**。一般来说，距离或相似度都是在欧式空间计算余弦相似性得到。

对于上述的离散型颜色特征，1、2、3编码方式就无法用在机器学习中，因为它们之间存在大小关系，而实际上各颜色特征之间并没有大小关系，红色>绿色??? 所以，独热编码便发挥出了作用，特征之间的计算会更加合理。

## 三、独热编码的优缺点

优点：为处理离散型特征提供了方法，在一定程度上扩充了特征属性。

缺点：

（1）One-Hot编码虽然方便，但也存在一些问题。首先，向量维度会随着类别数量线性增长，可能会影响模型的存储和计算效率。
（2）其次，当类别数量非常大时，One-Hot编码可能会增加过多的噪声和无关信息。
（3）无法体现出任何语义的信息出来。比如在nlp领域中，首先使用的是one-hot编码，但是此编码假设所有单词向量之间是没有任何关系的，比如相似的东西，cat和dog相较于apple之间没有办法体现出来前两者都是属于动物，没有体现出任何语义的信息出来。

（4）当特征的类别很多时，特征空间会变得非常大，在这种情况下，一般可以用PCA来减少维度。

## 四、什么时候不需要使用独热编码

1、离散特征的取值之间没有大小意义时，可以使用独热编码。

当离散特征的取值之间有大小意义或者有序时，比如衣服尺寸: [X, XL, XXL]，那么就不能使用独热编码，而使用数值的映射{X: 1, XL: 2, XXL: 3}。

2、如果特征是离散的，并且不用独热编码就可以很合理的计算出距离，就没必要进行独热编码。

3、有些并不是基于向量空间度量的算法，数值只是类别符号，没有偏序关系，就不用进行独热编码。